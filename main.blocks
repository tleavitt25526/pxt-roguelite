<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="`1z{LnoyO6ZY]qu(%pe0">roguePlayer</variable><variable id="@1U/lN7!::Gx/tmI^C@-">coffee</variable></variables><block type="pxt-on-start" id="7^|h,,W#~yvts.Ie6D`$" x="0" y="0"><statement name="HANDLER"><block type="typescript_statement" id="{+[==}L0C-Kh7g+hzj[1" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="enum Controllers {" line1="    TopDown," line2="    Platformer" line3="}" numlines="4"></mutation><next><block type="typescript_statement" id="qySjK)KQrhf9Xn@rQn`7" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="namespace Roguelite {" line1="" line2="    /**" line3="     * Create a new roguelite player" line4="     */" line5="    //% block=&quot;create player&quot;" line6="    //% group=&quot;Player&quot;" line7="    //% blockSetVariable=roguePlayer" line8="    export function createRoguePlayer() : RoguePlayer {" line9="        return new RoguePlayer(100, Controllers.TopDown);" line10="    }" line11="" line12="    /**" line13="     * Create a new coffee item" line14="     */" line15="    //% block=&quot;create coffee&quot;" line16="    //% group=&quot;Items&quot;" line17="    //% blockSetVariable=coffee" line18="    export function createCoffee() : Coffee {" line19="        return new Coffee(10, 50, 50);" line20="    }" line21="}" numlines="22"></mutation><next><block type="typescript_statement" id="iT^KhZj7/Nm3pYtJn4:u" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="class RoguePlayer {" line1="    _moveSpeed: number;" line2="    _controller: Controllers;" line3="" line4="    _playerSprite: Sprite" line5="" line6="    constructor(moveSpeed: number, controller: Controllers) {" line7="        this._moveSpeed = moveSpeed;" line8="        this._controller = controller;" line9="" line10="        this._playerSprite = sprites.create(assets.image`Player`, SpriteKind.Player);" line11="        " line12="    }" line13="" line14="    /**" line15="     * Set movement speed of the given player" line16="     */" line17="    //% block=&quot;set $this to $moveSpeed&quot;" line18="    //% this.defl=roguePlayer" line19="    //% this.shadow=variables_get" line20="    //% moveSpeed.shadow=number" line21="    //% moveSpeed.defl=10" line22="    //% group=&quot;Player&quot;" line23="    setMoveSpeed(moveSpeed: number) {" line24="        this._moveSpeed = moveSpeed;" line25="    }" line26="" line27="    /**" line28="     * Allow given player to move" line29="     */" line30="    //% block=&quot;wake $this&quot;" line31="    //% this.defl=roguePlayer" line32="    //% this.shadow=variables_get" line33="    //% group=&quot;Player&quot;" line34="    wakePlayer() {" line35="        if (this._controller == Controllers.TopDown) {" line36="            controller.moveSprite(this._playerSprite, this._moveSpeed, this._moveSpeed);" line37="        }" line38="    }" line39="    " line40="    /**" line41="     * Prevent given player from moving" line42="     */" line43="    //% block=&quot;sleep $this&quot;" line44="    //% this.defl=roguePlayer" line45="    //% this.shadow=variables_get" line46="    //% group=&quot;Player&quot;" line47="    sleepPlayer() {" line48="        if (this._controller == Controllers.TopDown) {" line49="            controller.moveSprite(this._playerSprite, 0, 0);" line50="        }" line51="    }" line52="}" numlines="53"></mutation><next><block type="typescript_statement" id="/wnxJLR:s[R2FBS#xc+X" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="class Coffee {" line1="    _modifier: number;" line2="    _sprite: Sprite;" line3="    " line4="    constructor(modifier: number, x: number, y: number) {" line5="        this._modifier = modifier;" line6="" line7="        this._sprite = sprites.create(assets.image`Coffee`, SpriteKind.Player);" line8="        this._sprite.setPosition(x, y);" line9="    }" line10="}" numlines="11"></mutation><next><block type="variables_set" id="j%-@=O/P-dEE{+@K=U-*"><field name="VAR" id="`1z{LnoyO6ZY]qu(%pe0">roguePlayer</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="Roguelite_createRoguePlayer" id="jKSn;]7Gv_oris,?Edv,"></block></value><next><block type="RoguePlayer_wakePlayer" id="K4$j,5kHTo1n#@%=l=gs"><value name="this"><shadow type="variables_get" id="*;i;hbnOt/_e;f-@hW3A"><field name="VAR" id="`1z{LnoyO6ZY]qu(%pe0">roguePlayer</field></shadow></value><next><block type="variables_set" id=";]}M=G=$MYRQ-lzT!wm?"><field name="VAR" id="@1U/lN7!::Gx/tmI^C@-">coffee</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="Roguelite_createCoffee" id="]}8JP%Q;BKvMH^*!)hUW"></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>